# /preview - L2级动态预览命令

## 概述
生成10秒测试视频，验证动态效果和参数设置，确保最终效果符合预期。

## 功能
- 生成单个10秒视频片段
- 测试音频同步效果
- 验证转场和特效
- 预览最终质量

## 使用方法
```bash
/preview [项目名] [选项]
```

## 参数
- `项目名`：要预览的视频项目名称
- `--scene`：指定预览的场景编号（1-6），默认场景1
- `--with-audio`：包含音频预览
- `--with-subtitle`：包含字幕预览
- `--quality`：视频质量（low | medium | high），默认 medium

## 示例

### 基础预览（第一个场景）
```bash
/preview tang-monk-dating
```

### 预览特定场景
```bash
/preview tang-monk-dating --scene 3
```

### 包含音频和字幕的完整预览
```bash
/preview tang-monk-dating --with-audio --with-subtitle
```

### 高质量预览
```bash
/preview tang-monk-dating --quality high
```

## 输出结果

### 预览生成报告
```
🎬 L2动态预览生成中...

📝 预览配置：
  场景：场景3 - 感情经历
  时长：10秒
  帧数：241帧
  音频：启用
  字幕：启用
  质量：高质量

⏳ 正在生成视频...
  任务ID: volcano_task_12345
  状态：处理中 [████████--] 80%

✅ 预览生成完成！
  视频文件：output/preview/l2-preview-scene3.mp4
  文件大小：8.5 MB
  分辨率：1080×1920
  帧率：30 fps

💰 预览成本：28元

📊 效果评估：
  ✅ 画面流畅度：良好
  ✅ 音画同步：正常
  ✅ 字幕时间轴：准确
  ⚠️ 建议：可以增加转场效果
```

### 预览分析
```
🔍 自动分析结果：
  - 人物动作自然度：85%
  - 场景一致性：92%
  - 整体质量评分：88/100

💡 优化建议：
  1. 调整第3-5秒的镜头切换速度
  2. 增强背景细节
  3. 优化人物表情变化
```

## 决策点

### 预览通过标准
- 视频流畅无卡顿
- 音画同步准确
- 视觉效果符合预期
- 无明显渲染错误

### 后续操作
- **效果满意**：执行 `/implement` 生成完整视频
- **需要调整**：修改参数后重新预览
- **质量问题**：返回 `/plan` 调整技术方案

## 成本说明
- 单次预览：约28元（10秒视频）
- 建议预览次数：1-2次
- 相比完整生成（170元）节省：84%

## 预览策略建议

### 选择关键场景
1. **开场场景**：验证整体风格
2. **高潮场景**：测试复杂效果
3. **对话场景**：检查口型同步
4. **动作场景**：验证动态效果

### 渐进式测试
1. 先测试纯视频
2. 再加入音频
3. 最后加入字幕和特效

## 配置要求
```env
# 火山引擎配置（必需）
VOLCANO_ACCESS_KEY=your_access_key
VOLCANO_SECRET_KEY=your_secret_key

# 预览设置
PREVIEW_DEFAULT_SCENE=1          # 默认预览场景
PREVIEW_DEFAULT_QUALITY=medium   # 默认质量
PREVIEW_SAVE_LOCAL=true         # 保存到本地
```

## 注意事项
1. L2预览需要火山引擎API配置
2. 预览视频会保存在 output/preview/ 目录
3. 建议在L1验证通过后再进行L2预览
4. 预览效果接近但不完全等同于最终效果

## 相关命令
- `/validate` - L0+L1级验证
- `/implement` - 完整视频生成
- `/tasks` - 任务分解