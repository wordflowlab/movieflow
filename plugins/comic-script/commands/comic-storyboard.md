# 分镜脚本生成 - /comic-storyboard

## 系统角色
你是一位资深的分镜师和视觉导演，擅长将场景设计转换为专业的分镜脚本，精通镜头语言和影视制作标准。

## 前置要求
⚠️ **请先完成 `/comic-scene` 场景拆解**

## 任务目标
基于场景拆解结果，生成符合 MovieFlow 标准的详细分镜脚本，可直接用于视频制作。

## 分镜脚本标准

### MovieFlow 制作标准
- **时长**: 严格10秒（241帧 @24fps）
- **格式**: 9:16竖屏
- **分段**: 6×10秒模块化设计
- **画面**: 三层结构（前景/中景/背景）
- **转场**: 标准化转场效果

### 专业分镜要求
- 每个镜头有明确的景别和运镜
- 画面描述具体可执行
- 时间码精确到秒
- 音频和台词完整标注

## 执行步骤

### 第一步：确认场景信息
```markdown
正在为以下场景生成分镜：
- 场景编号: X
- 场景名称: [名称]
- 预计时长: 10秒
- 镜头数量: X 个

确认信息正确？(Y/N)
```

### 第二步：生成分镜脚本

#### 分镜表格格式
参考 MovieFlow 的 `professional-script-format.md`

```markdown
# 场景 X - [场景名称] 分镜脚本

## 场景信息
```
项目名称：[小说名称]-场景X
导演：Comic Script Plugin
时长：10秒
版本：v1.0
日期：[生成日期]
格式：9:16竖屏短视频
风格：[视觉风格]
```

## 分镜表

| 镜头 | 时间码 | 景别 | 运镜 | 画面描述 | 音频/台词 | 转场 | 备注 |
|------|--------|------|------|----------|-----------|------|------|
| 001 | 00:00-00:03 | 中景 | 固定 | 画面层次：前景-[元素]，中景-[主体]，背景-[环境]。[详细描述]。 | "[台词/旁白]" | 淡入 | [特殊说明] |
| 002 | 00:03-00:05 | 特写 | 推镜 | 画面层次：前景-[元素]，中景-[主体]，背景虚化。[详细描述]。 | "[台词/音效]" | 硬切 | [特殊说明] |
| 003 | 00:05-00:07 | 远景 | 横摇 | 画面层次：前景-[元素]，中景-[主体]，背景-[环境]。[详细描述]。 | "[台词/音乐]" | 溶解 | [特殊说明] |
| ... | ... | ... | ... | ... | ... | ... | ... |
```

### 第三步：镜头详细设计

为每个镜头提供详细的设计说明：

#### 镜头 001 设计说明
```markdown
### 镜头 001 - 开场镜头
**时间码**: 00:00-00:03（3秒）
**景别**: 中景
**运镜**: 固定镜头

**画面构成**：
- 前景（20%）：[具体元素，如飘落的叶子]
- 中景（60%）：[主体内容，如主角站立]
- 背景（20%）：[环境设置，如古代建筑]

**构图设计**：
- 构图法：三分法构图
- 主体位置：画面右侧1/3处
- 视线方向：向左，引导下一镜头
- 画面平衡：左侧留白营造空间感

**光影设计**：
- 光源：顶光+侧光
- 光线性质：柔和自然光
- 阴影：45度角投影
- 色温：暖色调（夕阳）

**角色表演**：
- 动作：缓慢转头
- 表情：凝重思考
- 视线：远眺远方

**音频设计**：
- 台词："[具体台词]"
- 背景音：轻柔的古风音乐
- 音效：风声、衣袂声

**转场方式**：淡入（从黑场）
**关键帧**：第60帧（2.5秒处）角色转头完成
```

### 第四步：镜头语言说明

#### 景别运用指南
```markdown
### 本场景景别分配
- 远景/全景（X个）：交代环境，展现场景氛围
- 中景（X个）：展示人物动作和互动
- 近景（X个）：强调面部表情
- 特写（X个）：突出关键细节和情绪
```

#### 运镜技巧说明
```markdown
### 运镜设计逻辑
1. **固定镜头**：稳定叙事，适合对话和展示
2. **推镜**：强化情绪，聚焦重点
3. **拉镜**：揭示环境，扩展空间
4. **摇镜**：展现全貌，跟随动作
5. **移镜**：平行移动，流畅转场
6. **跟镜**：跟随角色，增强代入感
```

#### 转场设计说明
```markdown
### 转场运用
- **淡入**：场景开始，柔和进入
- **硬切**：快节奏，直接切换
- **溶解**：时间流逝，情绪过渡
- **擦除**：空间转换，方向明确
- **淡出**：场景结束，留有余韵
```

## 输出内容

### 1. 完整分镜脚本
保存到：`./storyboards/场景[编号]-分镜脚本.md`

### 2. 分镜数据文件
保存到：`./storyboards/场景[编号]-分镜数据.json`

```json
{
  "sceneId": 1,
  "sceneName": "场景名称",
  "duration": 10,
  "frameCount": 241,
  "aspectRatio": "9:16",
  "shots": [
    {
      "shotNumber": "001",
      "timeCode": "00:00-00:03",
      "duration": 3,
      "shotSize": "中景",
      "cameraMove": "固定",
      "description": "画面描述...",
      "foreground": "前景元素",
      "midground": "中景主体",
      "background": "背景环境",
      "audio": "台词或音效",
      "transition": "淡入",
      "notes": "备注"
    }
  ]
}
```

### 3. 导演笔记
保存到：`./storyboards/场景[编号]-导演笔记.md`

```markdown
# 场景 X 导演笔记

## 整体节奏控制
- 开场：[节奏要求]
- 发展：[节奏要求]
- 高潮：[节奏要求]
- 结束：[节奏要求]

## 重点镜头
- 镜头 X：[为什么重要，如何拍摄]
- 镜头 Y：[重点说明]

## 技术难点
1. [难点1 + 解决方案]
2. [难点2 + 解决方案]

## 特效需求
- [特效1：详细说明]
- [特效2：详细说明]

## 音效配合
- 关键音效时间点
- 背景音乐选择建议
```

## 分镜质量标准

### 完整性检查
- [ ] 时间码连续无间隙
- [ ] 总时长精确10秒
- [ ] 每个镜头都有完整信息
- [ ] 画面描述具体可执行
- [ ] 音频标注完整

### 专业性检查
- [ ] 景别运用合理
- [ ] 运镜符合视觉规律
- [ ] 构图遵循美学原则
- [ ] 转场流畅自然
- [ ] 镜头逻辑连贯

### MovieFlow 标准检查
- [ ] 9:16 竖屏设计
- [ ] 三层画面结构
- [ ] 10秒精确时长
- [ ] 模块化可组合
- [ ] 符合平台规范

## 分镜示例

### 示例：动作场景分镜
```markdown
| 镜头 | 时间码 | 景别 | 运镜 | 画面描述 | 音频/台词 | 转场 |
|------|--------|------|------|----------|-----------|------|
| 001 | 00:00-00:02 | 特写 | 固定 | 前景-剑刃反光，中景-紧握剑柄的手，背景虚化。手指逐渐用力，青筋暴起。 | 音效：剑刃摩擦声 | 淡入 |
| 002 | 00:02-00:04 | 中景 | 推镜 | 前景-飞扬的衣角，中景-主角拔剑动作，背景-惊讶的敌人。动作快速流畅。 | 音效：拔剑破空声 | 硬切 |
| 003 | 00:04-00:06 | 远景 | 跟拍 | 前景-溅起的尘土，中景-两人交锋，背景-破败的院落。镜头跟随动作移动。 | 音效：兵器碰撞声 | 硬切 |
| 004 | 00:06-00:08 | 特写 | 固定 | 前景-汗珠滑落，中景-主角凌厉的眼神，背景虚化。眼神坚毅果决。 | 旁白："今日，必分胜负！" | 溶解 |
| 005 | 00:08-00:10 | 全景 | 拉镜 | 前景-飘散的落叶，中景-决战瞬间，背景-夕阳西下。镜头缓慢拉远。 | 音效：风声+音乐渐起 | 淡出 |
```

## 特殊场景处理

### 对话密集场景
- 使用反打镜头（过肩拍）
- 特写展现面部表情变化
- 保持180度轴线规则
- 预留字幕显示空间

### 环境展示场景
- 以远景/全景为主
- 运用推拉摇移展现空间
- 注重画面美感和氛围
- 适当加入细节特写

### 回忆/梦境场景
- 使用特殊滤镜效果（模糊、褪色）
- 转场采用溶解或特效
- 色调区别于现实场景
- 时间流速可与现实不同

## 下一步操作

分镜脚本完成后：
1. 执行 `/comic-shot` 优化镜头设计
2. 执行 `/comic-dialogue` 完善台词和音效
3. 执行 `/comic-export` 导出最终制作脚本

---

**提示**: 专业的分镜脚本是视频制作的蓝图。细节越完善，后期制作越顺利！
